{% include base_path %}

{% case site.categories.type %}
  {% when "liquid" %}
    {% assign path_type = "#" %}
  {% when "jekyll-archives" %}
    {% assign path_type = nil %}
{% endcase %}

{% if page.collection != 'posts' %}
  {% assign path_type = nil %}
  {% assign crumb_path = '/' %}
{% else %}
  {% assign crumb_path = site.categories.path %}
{% endif %}

<nav class="breadcrumbs">
  <ol>
    {% assign crumbs = page.url | split: '/' %}
    {% assign crumbs = crumbs - crumbs | last %}
    {% for crumb in crumbs offset: 1 %}
      {% if forloop.first %}
        <li>
          <a href="{{ base_path }}/introduction/"><span>Introduction</span></a>
        </li>
      {% endif %}
      {% if forloop.last  %}
        <li>{{ page.title }}</li>
      {% else %}
        <li>
          <a href="{{ base_path }}{{ crumb | downcase | replace: '%20', '-' | prepend: path_type | prepend: crumb_path }}"><span>{{ crumb | replace: '-', ' ' | replace: '%20', ' ' | capitalize }}</span></a>
        </li>
      {% endif %}
    {% endfor %}
  </ol>
</nav>